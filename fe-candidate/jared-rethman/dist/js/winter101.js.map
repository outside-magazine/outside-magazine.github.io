{"version":3,"sources":["webpack://sass-tutorial/./src/js/app.js","webpack://sass-tutorial/./src/js/body-class.js","webpack://sass-tutorial/./src/js/components/Container.js","webpack://sass-tutorial/./src/js/components/Image/Image.js","webpack://sass-tutorial/./src/js/components/Image/ImageObserver.js","webpack://sass-tutorial/./src/js/components/LoaderBounce.js","webpack://sass-tutorial/./src/js/components/Post.js","webpack://sass-tutorial/./src/js/components/Posts.js","webpack://sass-tutorial/./src/js/hooks/useIntersectionObserver.js","webpack://sass-tutorial/./src/js/index.js","webpack://sass-tutorial/./src/scss/index.scss?6794"],"names":["ReactDOM","render","document","getElementById","prevScrollPos","window","pageYOffset","scrollDirection","bodyEl","body","cssClassNames","up","down","top","onScroll","scrollTop","documentElement","Math","abs","classList","remove","add","addEventListener","passive","useState","React","POSTS_PER_PAGE","initialSections","JSON","parse","innerText","Container","allLoaded","setAllLoaded","pending","setPending","sections","setSections","loadMore","fetch","then","res","json","response","updatedSections","i","m","allLoadedSectionIndex","findIndex","section","cat_id","posts","push","length","error","console","map","index","ppp","useEffect","Image","alt","imageSrc","onLoad","type","loaded","setLoaded","containerStyles","backgroundImage","opacity","ImageObserver","image","setImageSrc","useIntersectionObserver","imageRef","isIntersecting","LoaderBounce","Post","title","dek","date","url","propTypes","PropTypes","number","Posts","count","catId","paged","setPaged","postCount","setPostCount","zIndex","post","id","author","dateTime","useRef","root","rootMargin","threshold","entry","updateEntry","node","setNode","io","current","disconnect","IntersectionObserver","currentObserver","observe","CSS","paintWorklet","addModule","log"],"mappings":"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","file":"js/winter101.js","sourcesContent":["/**\n * React App\n */\n\n/* eslint-disable */\n\nimport { Container } from './components/Container';\n\nReactDOM.render(\n\t<Container />,\n\tdocument.getElementById( 'outside-app' )\n);\n","/**\n * Body Class scroll helper\n */\n/* eslint-disable */\n( function() {\n  let prevScrollPos = window.pageYOffset;\n  let scrollDirection = null;\n  const bodyEl = document.body;\n  const cssClassNames = { up: 'js-scroll-dir__up', down: 'js-scroll-dir__down', top: 'js-scroll-dir__top' };\n\n  /**\n   * onScroll body class helper\n   */\n  const onScroll = () => {\n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n\n    if ( scrollTop < 40 ) {\n      return;\n    }\n    if ( scrollTop > 40 ) {\n      if ( Math.abs( prevScrollPos - window.pageYOffset ) > 10 ) {\n        if ( prevScrollPos >= window.pageYOffset ) {\n          if ( scrollDirection !== 'up' ) {\n            scrollDirection = 'up';\n            bodyEl.classList.remove( cssClassNames.down );\n            bodyEl.classList.remove( cssClassNames.top );\n            bodyEl.classList.add( cssClassNames.up );\n          }\n        } else if ( scrollDirection !== 'down' ) {\n          scrollDirection = 'down';\n          bodyEl.classList.remove( cssClassNames.up );\n          bodyEl.classList.remove( cssClassNames.top );\n          bodyEl.classList.add( cssClassNames.down );\n        }\n      }\n    } else {\n      bodyEl.classList.remove( cssClassNames.top );\n      bodyEl.classList.remove( cssClassNames.up );\n    }\n    prevScrollPos = window.pageYOffset;\n  };\n\n  document.addEventListener( 'scroll', onScroll, { passive: true } );\n}() );\n","/**\n * Container Component.\n */\n\n// Dependencies\nimport { Posts } from './Posts';\n\n// Global constants\nconst { useState } = window.React;\nconst POSTS_PER_PAGE = 4;\nconst initialSections = JSON.parse(document.getElementById('outside-initial-data').innerText);\n\nexport const Container = () => {\n  const [allLoaded, setAllLoaded] = useState(false);\n  const [pending, setPending] = useState(false);\n  const [sections, setSections] = useState(initialSections);\n\n  const loadMore = () => {\n    if (allLoaded || pending) {\n      setPending(false);\n      return;\n    }\n\n    setPending(true);\n    setAllLoaded(true);\n\n    fetch('https://run.mocky.io/v3/6f58c901-cb5f-4544-834a-020be1349266?mocky-delay=1000ms')\n      .then((res) => res.json())\n      .then(\n        (response) => {\n          const updatedSections = [...sections];\n          for (let i = 0, m = response.length; i < m; i++) {\n            const allLoadedSectionIndex = updatedSections.findIndex(\n              (section) => section.cat_id === response[i].cat_id,\n            );\n            updatedSections[allLoadedSectionIndex].posts.push(...response[i].posts);\n          }\n          setSections(updatedSections);\n        },\n        (error) => {\n          // eslint-disable-next-line no-console\n          console.error(error);\n        },\n      )\n      .finally(() => {\n        setPending(false);\n      });\n  };\n\n  return (\n    <div className={ `${pending ? 'pending' : ''}` }>\n      { sections.map((section, index) => (\n        <Posts\n          key={ section.cat_id }\n          {\n            ...{\n              ...section,\n              loadMore,\n              index: sections.length - index,\n              pending,\n              allLoaded,\n              ppp: POSTS_PER_PAGE,\n            }\n          }\n        />\n      )) }\n    </div>\n  );\n};\n\nexport default Container;\n","/*eslint-disable*/\n\nconst { React: { useState, useEffect }, React } = window;\n\nexport const Image = (\n  {\n    alt,\n    imageSrc,\n    onLoad = () => {\n    },\n    type = 'normal'\n  },\n) => {\n\n  const [ loaded, setLoaded ] = useState( false );\n\n  useEffect( () => {\n    if ( loaded ) {\n      onLoad();\n    }\n  }, [ loaded ] );\n\n  const containerStyles = {};\n\n  if ( 'bg' === type && loaded ) {\n    containerStyles.backgroundImage = `url(${ imageSrc })`;\n  }\n\n  return (\n    <div\n      className={ `progressive-image${ loaded ? ' is-loaded' : '' }` }\n      style={ containerStyles }\n    >\n      <img\n        alt={ alt }\n        src={ imageSrc }\n        onLoad={ () => setLoaded( true ) }\n        style={ { opacity: loaded && 'bg' === type ? 0 : 1 } }\n      />\n    </div>\n  );\n};\n\nexport default {\n  Image,\n};\n","/*eslint-disable*/\nimport { useIntersectionObserver } from '../../hooks/useIntersectionObserver';\nimport { Image } from './Image';\n\nconst {\n  React: {\n    useState,\n    useEffect\n  },\n  React\n} = window;\n\nexport const ImageObserver = (\n  {\n    image = null,\n    type = 'normal',\n    alt = 'No Alt',\n    onLoad = () => {},\n  },\n) => {\n  const [ imageSrc, setImageSrc ] = useState( '' );\n  const [ imageRef, isIntersecting ] = useIntersectionObserver( {} );\n\n  useEffect( () => {\n    if ( isIntersecting && '' === imageSrc ) {\n      setImageSrc( image );\n    }\n  }, [ isIntersecting ] );\n\n  if( null === image ){\n    return null;\n  }\n\n  return (\n    <>\n      { isIntersecting ? <Image type={type} onLoad={onLoad} imageSrc={ imageSrc } alt={alt} /> : <div ref={ imageRef } className='progressive-image'/> }\n    </>\n  );\n};\n\nexport default {\n  ImageObserver,\n};\n","export const LoaderBounce = () => (\n  <div className=\"loader-bounce\">\n    <div className=\"double-bounce1\"/>\n    <div className=\"double-bounce2\"/>\n  </div>\n);\n\nexport default LoaderBounce;\n","/**\n * Post Component.\n */\n\n// Dependencies\nimport PropTypes from 'prop-types';\nimport { ImageObserver } from './Image/ImageObserver';\n\nconst { React } = window;\n\n/**\n * Post Component\n * @param props\n * @param props.title\n * @param props.dek\n * @param props.date\n * @param props.image\n * @param props.url\n *\n * @returns {JSX.Element}\n * @constructor\n */\nexport const Post = (\n  {\n    title,\n    dek,\n    date,\n    image,\n    url,\n  },\n) => (\n  <article>\n    <a href={ `https://www.outsideonline.com${url}` }>\n      <ImageObserver image={ image } alt={title} />\n    </a>\n    <header>\n      <a href={ `https://www.outsideonline.com${url}` }>\n        <h3>\n          { title }\n        </h3>\n      </a>\n      <time dateTime={ date }>\n        { date }\n      </time>\n      <p>\n        { dek }\n      </p>\n    </header>\n  </article>\n);\n\nPost.propTypes = {\n  title: PropTypes.string,\n  dek: PropTypes.string,\n  date: PropTypes.string,\n  image: PropTypes.number,\n  url: PropTypes.number,\n};\n\nexport default Post;\n","/**\n * Posts Component.\n */\n\n// Dependencies\nimport PropTypes from 'prop-types';\nimport { Post } from './Post';\nimport { LoaderBounce } from './LoaderBounce';\nimport { ImageObserver } from './Image/ImageObserver';\n\nconst { React: { useEffect, useState }, React } = window;\n\n/**\n * Posts Component\n *\n * @param {{}} props React props object\n * @param {[]} props.posts Posts array object\n * @param {number} props.ppp Posts per page\n * @param {string} props.title Section title\n * @param {string} props.dek Section blurb/dek\n * @param {number} props.count Posts total count\n * @param {function} props.loadMore Parent component callback\n * @param {boolean} props.pending Is current request pending\n * @param {number} props.cat_id Cat Id for section\n * @param {boolean} props.allLoaded All loaded\n *\n * @returns {JSX.Element}\n * @constructor\n */\nexport const Posts = (\n  {\n    posts,\n    ppp,\n    title,\n    dek,\n    count,\n    loadMore,\n    pending,\n    image,\n    index,\n    cat_id: catId,\n    allLoaded = false,\n  },\n) => {\n  const [paged, setPaged] = useState(1);\n  const [postCount, setPostCount] = useState(ppp);\n\n  useEffect(() => {\n    if (paged === 1) {\n      return;\n    }\n    if (postCount < count) {\n      setPostCount((ppp * paged) > count ? posts.length : ppp * paged);\n    }\n    if (!allLoaded) {\n      loadMore(catId, paged);\n    }\n  }, [paged]);\n\n  return (\n    /* PurgeCSS: section-gear, section-skills, section-sports, section-cozy-up */\n    <section className={ `winter101-section section-${catId}` } style={ { zIndex: index } }>\n      <header>\n        <ImageObserver\n          type={ 'bg' }\n          image={ image }\n          alt={ `${title} - ${dek}` }\n        />\n        <div className='winter101-container'>\n          <caption>\n            <h2>\n              { title }\n            </h2>\n            <p>{ dek }</p>\n            <div className='separator is-loaded'/>\n          </caption>\n        </div>\n      </header>\n      <div className='winter101-posts winter101-container'>\n        { posts.map((post, i) => (\n          <>\n            { postCount > i && <Post key={ `post-${post.id}` } { ...post }/> }\n          </>\n        )) }\n      </div>\n      { pending ? <LoaderBounce/> : postCount < count && <div className='align-center'>\n        <button\n          disabled={ pending }\n          onClick={ () => {\n            setPaged(paged + 1);\n          } }\n        >\n          <span>+</span> { count - postCount }\n        </button>\n      </div> }\n      { index !== 1 && <div className='separator is-loaded'/> }\n    </section>\n  );\n};\n\nPosts.propTypes = {\n  ppp: PropTypes.number,\n  count: PropTypes.number,\n  index: PropTypes.number,\n  title: PropTypes.string,\n  dek: PropTypes.string,\n  image: PropTypes.string,\n  loadMore: PropTypes.func,\n  pending: PropTypes.bool,\n  cat_id: PropTypes.string,\n  allLoaded: PropTypes.bool,\n  posts: PropTypes.arrayOf(\n    PropTypes.shape({\n      author: PropTypes.string,\n      image: PropTypes.string,\n      url: PropTypes.string,\n      title: PropTypes.string,\n      dek: PropTypes.string,\n      id: PropTypes.number,\n      date: PropTypes.dateTime,\n    }),\n  ),\n};\n\nexport default Posts;\n","/* eslint-disable */\n\nconst { useState, useEffect, useRef } = window.React;\n\nexport const useIntersectionObserver = ( { root = null, rootMargin, threshold = 0 } ) => {\n\n  const [ entry, updateEntry ] = useState( {} );\n  const [ node, setNode ] = useState( null );\n\n  const io = useRef( null );\n\n  useEffect( () => {\n    if ( io.current ) {\n      io.current.disconnect();\n    }\n    io.current = new window.IntersectionObserver(\n      ( [ entry ] ) => updateEntry( entry ),\n      {\n        root,\n        rootMargin,\n        threshold,\n      }\n    );\n    const { current: currentObserver } = io;\n    if ( node ) {\n      currentObserver.observe( node );\n    }\n    return () => {\n      currentObserver.disconnect();\n    };\n  }, [node, root, rootMargin, threshold] );\n\n  return [ setNode, entry.isIntersecting, io.current ];\n};\n","/**\n * Main Entry\n */\n/**\n * Dependencies\n */\n// CSS\nimport '../scss/index.scss';\n\n// Global\nimport './body-class';\n\n/**\n * React App\n */\nimport './app';\n\nif ('paintWorklet' in window.CSS) {\n  window.CSS.paintWorklet.addModule('src/js/paint-worklets/index.js');\n}\n\n// eslint-disable-next-line\nconsole.log( 'Welcome candidate 👋' );\n","// extracted by mini-css-extract-plugin\nexport {};"],"sourceRoot":""}